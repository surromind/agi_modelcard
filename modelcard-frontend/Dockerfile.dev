# 개발 환경용 프론트엔드 Dockerfile
FROM node:18-alpine

# Git 관련 에러 방지를 위한 설정
RUN apk add --no-cache git

WORKDIR /app

# package.json만 복사하여 의존성 설치 (yarn.lock은 선택적)
COPY package.json ./

# 개발 의존성을 포함한 모든 의존성 설치
RUN yarn install

# 소스코드는 볼륨 마운트로 처리 (COPY 제거)

ENV PATH /app/node_modules/.bin:$PATH
ENV HOST 0.0.0.0
ENV PORT 3000

EXPOSE 3000

# 개발 서버 실행 (소스코드 변경사항 실시간 반영)
CMD ["yarn", "dev"]
